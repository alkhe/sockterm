!function(B){"object"==typeof exports?module.exports=B():"function"==typeof define&&define.amd?define(B):"undefined"!=typeof window?window.io=B():"undefined"!=typeof global?global.io=B():"undefined"!=typeof self&&(self.io=B())}(function(){return function d(g,f,a){function e(b,q){if(!f[b]){if(!g[b]){var k="function"==typeof require&&require;if(!q&&k)return k(b,!0);if(c)return c(b,!0);throw Error("Cannot find module '"+b+"'");}k=f[b]={exports:{}};g[b][0].call(k.exports,function(a){var c=g[b][1][a];
return e(c?c:a)},k,k.exports,d,g,f,a)}return f[b].exports}for(var c="function"==typeof require&&require,b=0;b<a.length;b++)e(a[b]);return e}({1:[function(d,g,f){g.exports=d("./lib/")},{"./lib/":2}],2:[function(d,g,f){function a(a,c){"object"==typeof a&&(c=a,a=void 0);c=c||{};var d=e(a),l=d.source,r=d.id;c.forceNew||c["force new connection"]||!1===c.multiplex?(h("ignoring socket cache for %s",l),l=b(l,c)):(q[r]||(h("new io instance for %s",l),q[r]=b(l,c)),l=q[r]);return l.socket(d.path)}var e=d("./url"),
c=d("socket.io-parser"),b=d("./manager"),h=d("debug")("socket.io-client");g.exports=f=a;var q=f.managers={};f.protocol=c.protocol;f.connect=a;f.Manager=d("./manager");f.Socket=d("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:9,"socket.io-parser":40}],3:[function(d,g,f){function a(c,e){if(!(this instanceof a))return new a(c,e);c&&"object"==typeof c&&(e=c,c=void 0);e=e||{};e.path=e.path||"/socket.io";this.nsps={};this.subs=[];this.opts=e;this.reconnection(!1!==e.reconnection);this.reconnectionAttempts(e.reconnectionAttempts||
Infinity);this.reconnectionDelay(e.reconnectionDelay||1E3);this.reconnectionDelayMax(e.reconnectionDelayMax||5E3);this.timeout(null==e.timeout?2E4:e.timeout);this.readyState="closed";this.uri=c;this.attempts=this.connected=0;this.encoding=!1;this.packetBuffer=[];this.encoder=new b.Encoder;this.decoder=new b.Decoder;this.open()}d("./url");var e=d("engine.io-client"),c=d("./socket");f=d("component-emitter");var b=d("socket.io-parser"),h=d("./on"),q=d("component-bind");d("object-component");var k=d("debug")("socket.io-client:manager");
g.exports=a;a.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)this.nsps[a].emit.apply(this.nsps[a],arguments)};f(a.prototype);a.prototype.reconnection=function(a){if(!arguments.length)return this._reconnection;this._reconnection=!!a;return this};a.prototype.reconnectionAttempts=function(a){if(!arguments.length)return this._reconnectionAttempts;this._reconnectionAttempts=a;return this};a.prototype.reconnectionDelay=function(a){if(!arguments.length)return this._reconnectionDelay;
this._reconnectionDelay=a;return this};a.prototype.reconnectionDelayMax=function(a){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=a;return this};a.prototype.timeout=function(a){if(!arguments.length)return this._timeout;this._timeout=a;return this};a.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||!this._reconnection||(this.openReconnect=!0,this.reconnect())};a.prototype.open=a.prototype.connect=function(a){k("readyState %s",this.readyState);
if(~this.readyState.indexOf("open"))return this;k("opening %s",this.uri);var c=this.engine=e(this.uri,this.opts),l=this;this.readyState="opening";var b=h(c,"open",function(){l.onopen();a&&a()}),d=h(c,"error",function(c){k("connect_error");l.cleanup();l.readyState="closed";l.emitAll("connect_error",c);if(a){var b=Error("Connection error");b.data=c;a(b)}l.maybeReconnectOnOpen()});if(!1!==this._timeout){var v=this._timeout;k("connect attempt will timeout after %d",v);var f=setTimeout(function(){k("connect attempt timed out after %d",
v);b.destroy();c.close();c.emit("error","timeout");l.emitAll("connect_timeout",v)},v);this.subs.push({destroy:function(){clearTimeout(f)}})}this.subs.push(b);this.subs.push(d);return this};a.prototype.onopen=function(){k("open");this.cleanup();this.readyState="open";this.emit("open");var a=this.engine;this.subs.push(h(a,"data",q(this,"ondata")));this.subs.push(h(this.decoder,"decoded",q(this,"ondecoded")));this.subs.push(h(a,"error",q(this,"onerror")));this.subs.push(h(a,"close",q(this,"onclose")))};
a.prototype.ondata=function(a){this.decoder.add(a)};a.prototype.ondecoded=function(a){this.emit("packet",a)};a.prototype.onerror=function(a){k("error",a);this.emitAll("error",a)};a.prototype.socket=function(a){var b=this.nsps[a];if(!b){b=new c(this,a);this.nsps[a]=b;var l=this;b.on("connect",function(){l.connected++})}return b};a.prototype.destroy=function(a){--this.connected||this.close()};a.prototype.packet=function(a){k("writing packet %j",a);var c=this;c.encoding?c.packetBuffer.push(a):(c.encoding=
!0,this.encoder.encode(a,function(a){for(var b=0;b<a.length;b++)c.engine.write(a[b]);c.encoding=!1;c.processPacketQueue()}))};a.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}};a.prototype.cleanup=function(){for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[];this.encoding=!1;this.decoder.destroy()};a.prototype.close=a.prototype.disconnect=function(){this.skipReconnect=!0;this.engine.close()};a.prototype.onclose=
function(a){k("close");this.cleanup();this.readyState="closed";this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};a.prototype.reconnect=function(){if(this.reconnecting)return this;var a=this;this.attempts++;if(this.attempts>this._reconnectionAttempts)k("reconnect failed"),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var c=this.attempts*this.reconnectionDelay(),c=Math.min(c,this.reconnectionDelayMax());k("will wait %dms before reconnect attempt",c);this.reconnecting=
!0;var l=setTimeout(function(){k("attempting reconnect");a.emitAll("reconnect_attempt",a.attempts);a.emitAll("reconnecting",a.attempts);a.open(function(l){l?(k("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",l.data)):(k("reconnect success"),a.onreconnect())})},c);this.subs.push({destroy:function(){clearTimeout(l)}})}};a.prototype.onreconnect=function(){var a=this.attempts;this.attempts=0;this.reconnecting=!1;this.emitAll("reconnect",a)}},{"./on":4,"./socket":5,
"./url":6,"component-bind":7,"component-emitter":8,debug:9,"engine.io-client":11,"object-component":37,"socket.io-parser":40}],4:[function(d,g,f){g.exports=function(a,e,c){a.on(e,c);return{destroy:function(){a.removeListener(e,c)}}}},{}],5:[function(d,g,f){function a(a,c){this.io=a;this.nsp=c;this.json=this;this.ids=0;this.acks={};this.open();this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0;this.subEvents()}var e=d("socket.io-parser");f=d("component-emitter");var c=
d("to-array"),b=d("./on"),h=d("component-bind"),q=d("debug")("socket.io-client:socket"),k=d("has-binary-data");d("indexof");g.exports=a;var p={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},m=f.prototype.emit;f(a.prototype);a.prototype.subEvents=function(){var a=this.io;this.subs=[b(a,"open",h(this,"onopen")),b(a,"packet",h(this,"onpacket")),b(a,"close",h(this,"onclose"))]};a.prototype.open=a.prototype.connect=
function(){if(this.connected)return this;this.io.open();if("open"==this.io.readyState)this.onopen();return this};a.prototype.send=function(){var a=c(arguments);a.unshift("message");this.emit.apply(this,a);return this};a.prototype.emit=function(a){if(p.hasOwnProperty(a))return m.apply(this,arguments),this;var b=c(arguments),h=e.EVENT;k(b)&&(h=e.BINARY_EVENT);h={type:h,data:b};"function"==typeof b[b.length-1]&&(q("emitting packet with ack id %d",this.ids),this.acks[this.ids]=b.pop(),h.id=this.ids++);
this.connected?this.packet(h):this.sendBuffer.push(h);return this};a.prototype.packet=function(a){a.nsp=this.nsp;this.io.packet(a)};a.prototype.onopen=function(){q("transport is open - connecting");"/"!=this.nsp&&this.packet({type:e.CONNECT})};a.prototype.onclose=function(a){q("close (%s)",a);this.connected=!1;this.disconnected=!0;this.emit("disconnect",a)};a.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case e.CONNECT:this.onconnect();break;case e.EVENT:this.onevent(a);break;case e.BINARY_EVENT:this.onevent(a);
break;case e.ACK:this.onack(a);break;case e.BINARY_ACK:this.onack(a);break;case e.DISCONNECT:this.ondisconnect();break;case e.ERROR:this.emit("error",a.data)}};a.prototype.onevent=function(a){var c=a.data||[];q("emitting event %j",c);null!=a.id&&(q("attaching ack callback to event"),c.push(this.ack(a.id)));this.connected?m.apply(this,c):this.receiveBuffer.push(c)};a.prototype.ack=function(a){var b=this,h=!1;return function(){if(!h){h=!0;var d=c(arguments);q("sending ack %j",d);var f=k(d)?e.BINARY_ACK:
e.ACK;b.packet({type:f,id:a,data:d})}}};a.prototype.onack=function(a){q("calling ack %s with %j",a.id,a.data);this.acks[a.id].apply(this,a.data);delete this.acks[a.id]};a.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};a.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++)m.apply(this,this.receiveBuffer[a]);this.receiveBuffer=[];for(a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=
[]};a.prototype.ondisconnect=function(){q("server disconnect (%s)",this.nsp);this.destroy();this.onclose("io server disconnect")};a.prototype.destroy=function(){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.io.destroy(this)};a.prototype.close=a.prototype.disconnect=function(){if(!this.connected)return this;q("performing disconnect (%s)",this.nsp);this.packet({type:e.DISCONNECT});this.destroy();this.onclose("io client disconnect");return this}},{"./on":4,"component-bind":7,"component-emitter":8,
debug:9,"has-binary-data":32,indexof:36,"socket.io-parser":40,"to-array":43}],6:[function(d,g,f){var a="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},e=d("parseuri"),c=d("debug")("socket.io-client:url");g.exports=function(b,h){var d=b;h=h||a.location;null==b&&(b=h.protocol+"//"+h.hostname);"string"==typeof b&&("/"==b.charAt(0)&&"undefined"!=typeof h&&(b=h.hostname+b),/^(https?|wss?):\/\//.test(b)||(c("protocol-less url %s",b),b="undefined"!=typeof h?h.protocol+"//"+b:"https://"+
b),c("parse %s",b),d=e(b));d.port||(/^(http|ws)$/.test(d.protocol)?d.port="80":/^(http|ws)s$/.test(d.protocol)&&(d.port="443"));d.path=d.path||"/";d.id=d.protocol+"://"+d.host+":"+d.port;d.href=d.protocol+"://"+d.host+(h&&h.port==d.port?"":":"+d.port);return d}},{debug:9,parseuri:38}],7:[function(d,g,f){var a=[].slice;g.exports=function(e,c){"string"==typeof c&&(c=e[c]);if("function"!=typeof c)throw Error("bind() requires a function");var b=a.call(arguments,2);return function(){return c.apply(e,b.concat(a.call(arguments)))}}},
{}],8:[function(d,g,f){function a(e){if(e){for(var c in a.prototype)e[c]=a.prototype[c];return e}}g.exports=a;a.prototype.on=a.prototype.addEventListener=function(a,c){this._callbacks=this._callbacks||{};(this._callbacks[a]=this._callbacks[a]||[]).push(c);return this};a.prototype.once=function(a,c){function b(){h.off(a,b);c.apply(this,arguments)}var h=this;this._callbacks=this._callbacks||{};b.fn=c;this.on(a,b);return this};a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=
a.prototype.removeEventListener=function(a,c){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var b=this._callbacks[a];if(!b)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var h,d=0;d<b.length;d++)if(h=b[d],h===c||h.fn===c){b.splice(d,1);break}return this};a.prototype.emit=function(a){this._callbacks=this._callbacks||{};var c=[].slice.call(arguments,1),b=this._callbacks[a];if(b)for(var b=b.slice(0),h=0,d=b.length;h<d;++h)b[h].apply(this,
c);return this};a.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||[]};a.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],9:[function(d,g,f){function a(c){return a.enabled(c)?function(b){b instanceof Error&&(b=b.stack||b.message);var e=new Date,d=e-(a[c]||e);a[c]=e;b=c+" "+b+" +"+a.humanize(d);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}g.exports=a;a.names=[];a.skips=
[];a.enable=function(c){try{localStorage.debug=c}catch(b){}for(var e=(c||"").split(/[\s,]+/),d=e.length,k=0;k<d;k++)c=e[k].replace("*",".*?"),"-"===c[0]?a.skips.push(new RegExp("^"+c.substr(1)+"$")):a.names.push(new RegExp("^"+c+"$"))};a.disable=function(){a.enable("")};a.humanize=function(a){return 36E5<=a?(a/36E5).toFixed(1)+"h":6E4<=a?(a/6E4).toFixed(1)+"m":1E3<=a?(a/1E3|0)+"s":a+"ms"};a.enabled=function(c){for(var b=0,e=a.skips.length;b<e;b++)if(a.skips[b].test(c))return!1;b=0;for(e=a.names.length;b<
e;b++)if(a.names[b].test(c))return!0;return!1};try{window.localStorage&&a.enable(localStorage.debug)}catch(e){}},{}],10:[function(d,g,f){function a(c){if(c){for(var b in a.prototype)c[b]=a.prototype[b];return c}}var e=d("indexof");g.exports=a;a.prototype.on=function(a,b){this._callbacks=this._callbacks||{};(this._callbacks[a]=this._callbacks[a]||[]).push(b);return this};a.prototype.once=function(a,b){function e(){d.off(a,e);b.apply(this,arguments)}var d=this;this._callbacks=this._callbacks||{};b._off=
e;this.on(a,e);return this};a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=function(a,b){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var d=this._callbacks[a];if(!d)return this;if(1==arguments.length)return delete this._callbacks[a],this;var f=e(d,b._off||b);~f&&d.splice(f,1);return this};a.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),e=this._callbacks[a];if(e)for(var e=e.slice(0),
d=0,k=e.length;d<k;++d)e[d].apply(this,b);return this};a.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||[]};a.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{indexof:36}],11:[function(d,g,f){g.exports=d("./lib/")},{"./lib/":12}],12:[function(d,g,f){g.exports=d("./socket");g.exports.parser=d("engine.io-parser")},{"./socket":13,"engine.io-parser":22}],13:[function(d,g,f){function a(c,b){if(!(this instanceof a))return new a(c,b);
b=b||{};c&&"object"==typeof c&&(b=c,c=null);c&&(c=k(c),b.host=c.host,b.secure="https"==c.protocol||"wss"==c.protocol,b.port=c.port,c.query&&(b.query=c.query));this.secure=null!=b.secure?b.secure:e.location&&"https:"==location.protocol;if(b.host){var d=b.host.split(":");b.hostname=d.shift();d.length&&(b.port=d.pop())}this.agent=b.agent||!1;this.hostname=b.hostname||(e.location?location.hostname:"localhost");this.port=b.port||(e.location&&location.port?location.port:this.secure?443:80);this.query=b.query||
{};"string"==typeof this.query&&(this.query=m.decode(this.query));this.upgrade=!1!==b.upgrade;this.path=(b.path||"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!b.forceJSONP;this.forceBase64=!!b.forceBase64;this.timestampParam=b.timestampParam||"t";this.timestampRequests=b.timestampRequests;this.transports=b.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.callbackBuffer=[];this.policyPort=b.policyPort||843;this.rememberUpgrade=b.rememberUpgrade||!1;this.open();
this.binaryType=null;this.onlyBinaryUpgrades=b.onlyBinaryUpgrades}var e="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},c=d("./transports");f=d("component-emitter");var b=d("debug")("engine.io-client:socket"),h=d("indexof"),q=d("engine.io-parser"),k=d("parseuri"),p=d("parsejson"),m=d("parseqs");g.exports=a;a.priorWebsocketSuccess=!1;f(a.prototype);a.protocol=q.protocol;a.Socket=a;a.Transport=d("./transport");a.transports=d("./transports");a.parser=d("engine.io-parser");a.prototype.createTransport=
function(a){b('creating transport "%s"',a);var e=this.query,d={},h;for(h in e)e.hasOwnProperty(h)&&(d[h]=e[h]);d.EIO=q.protocol;d.transport=a;this.id&&(d.sid=this.id);return new c[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:d,forceJSONP:this.forceJSONP,forceBase64:this.forceBase64,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this})};a.prototype.open=function(){var b;b=this.rememberUpgrade&&
a.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";b=this.createTransport(b);b.open();this.setTransport(b)};a.prototype.setTransport=function(a){b("setting transport %s",a.name);var c=this;this.transport&&(b("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=a;a.on("drain",function(){c.onDrain()}).on("packet",function(a){c.onPacket(a)}).on("error",function(a){c.onError(a)}).on("close",
function(){c.onClose("transport close")})};a.prototype.probe=function(c){function e(){if(t.onlyBinaryUpgrades){var d=!this.supportsBinary&&t.transport.supportsBinary;q=q||d}q||(b('probe transport "%s" opened',c),g.send([{type:"ping",data:"probe"}]),g.once("packet",function(e){q||("pong"==e.type&&"probe"==e.data?(b('probe transport "%s" pong',c),t.upgrading=!0,t.emit("upgrading",g),a.priorWebsocketSuccess="websocket"==g.name,b('pausing current transport "%s"',t.transport.name),t.transport.pause(function(){q||
"closed"==t.readyState||"closing"==t.readyState||(b("changing transport and sending upgrade packet"),m(),t.setTransport(g),g.send([{type:"upgrade"}]),t.emit("upgrade",g),g=null,t.upgrading=!1,t.flush())})):(b('probe transport "%s" failed',c),e=Error("probe error"),e.transport=g.name,t.emit("upgradeError",e)))}))}function d(){q||(q=!0,m(),g.close(),g=null)}function h(a){var e=Error("probe error: "+a);e.transport=g.name;d();b('probe transport "%s" failed because of error: %s',c,a);t.emit("upgradeError",
e)}function k(){h("transport closed")}function f(){h("socket closed")}function p(a){g&&a.name!=g.name&&(b('"%s" works - aborting "%s"',a.name,g.name),d())}function m(){g.removeListener("open",e);g.removeListener("error",h);g.removeListener("close",k);t.removeListener("close",f);t.removeListener("upgrading",p)}b('probing transport "%s"',c);var g=this.createTransport(c,{probe:1}),q=!1,t=this;a.priorWebsocketSuccess=!1;g.once("open",e);g.once("error",h);g.once("close",k);this.once("close",f);this.once("upgrading",
p);g.open()};a.prototype.onOpen=function(){b("socket open");this.readyState="open";a.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){b("starting upgrade probes");for(var c=0,e=this.upgrades.length;c<e;c++)this.probe(this.upgrades[c])}};a.prototype.onPacket=function(a){if("opening"==this.readyState||"open"==this.readyState)switch(b('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",
a),this.emit("heartbeat"),a.type){case "open":this.onHandshake(p(a.data));break;case "pong":this.setPing();break;case "error":var c=Error("server error");c.code=a.data;this.emit("error",c);break;case "message":this.emit("data",a.data),this.emit("message",a.data)}else b('packet received with socket readyState "%s"',this.readyState)};a.prototype.onHandshake=function(a){this.emit("handshake",a);this.id=a.sid;this.transport.query.sid=a.sid;this.upgrades=this.filterUpgrades(a.upgrades);this.pingInterval=
a.pingInterval;this.pingTimeout=a.pingTimeout;this.onOpen();"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};a.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var c=this;c.pingTimeoutTimer=setTimeout(function(){if("closed"!=c.readyState)c.onClose("ping timeout")},a||c.pingInterval+c.pingTimeout)};a.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer);a.pingIntervalTimer=setTimeout(function(){b("writing ping packet - expecting pong within %sms",
a.pingTimeout);a.ping();a.onHeartbeat(a.pingTimeout)},a.pingInterval)};a.prototype.ping=function(){this.sendPacket("ping")};a.prototype.onDrain=function(){for(var a=0;a<this.prevBufferLen;a++)if(this.callbackBuffer[a])this.callbackBuffer[a]();this.writeBuffer.splice(0,this.prevBufferLen);this.callbackBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0==this.writeBuffer.length?this.emit("drain"):this.flush()};a.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&
this.writeBuffer.length&&(b("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};a.prototype.write=a.prototype.send=function(a,c){this.sendPacket("message",a,c);return this};a.prototype.sendPacket=function(a,c,b){a={type:a,data:c};this.emit("packetCreate",a);this.writeBuffer.push(a);this.callbackBuffer.push(b);this.flush()};a.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.onClose("forced close"),
b("socket closing - telling transport to close"),this.transport.close();return this};a.prototype.onError=function(c){b("socket error %j",c);a.priorWebsocketSuccess=!1;this.emit("error",c);this.onClose("transport error",c)};a.prototype.onClose=function(a,c){if("opening"==this.readyState||"open"==this.readyState){b('socket close with reason: "%s"',a);var e=this;clearTimeout(this.pingIntervalTimer);clearTimeout(this.pingTimeoutTimer);setTimeout(function(){e.writeBuffer=[];e.callbackBuffer=[];e.prevBufferLen=
0},0);this.transport.removeAllListeners("close");this.transport.close();this.transport.removeAllListeners();this.readyState="closed";this.id=null;this.emit("close",a,c)}};a.prototype.filterUpgrades=function(a){for(var c=[],b=0,e=a.length;b<e;b++)~h(this.transports,a[b])&&c.push(a[b]);return c}},{"./transport":14,"./transports":15,"component-emitter":8,debug:9,"engine.io-parser":22,indexof:36,parsejson:29,parseqs:30,parseuri:38}],14:[function(d,g,f){function a(a){this.path=a.path;this.hostname=a.hostname;
this.port=a.port;this.secure=a.secure;this.query=a.query;this.timestampParam=a.timestampParam;this.timestampRequests=a.timestampRequests;this.readyState="";this.agent=a.agent||!1;this.socket=a.socket}var e=d("engine.io-parser");d=d("component-emitter");g.exports=a;d(a.prototype);a.timestamps=0;a.prototype.onError=function(a,b){var e=Error(a);e.type="TransportError";e.description=b;this.emit("error",e);return this};a.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState=
"opening",this.doOpen();return this};a.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),this.onClose();return this};a.prototype.send=function(a){if("open"==this.readyState)this.write(a);else throw Error("Transport not open");};a.prototype.onOpen=function(){this.readyState="open";this.writable=!0;this.emit("open")};a.prototype.onData=function(a){try{var b=e.decodePacket(a,this.socket.binaryType);this.onPacket(b)}catch(d){d.data=a,this.onError("parser decode error",
d)}};a.prototype.onPacket=function(a){this.emit("packet",a)};a.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":8,"engine.io-parser":22}],15:[function(d,g,f){var a="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},e=d("xmlhttprequest"),c=d("./polling-xhr"),b=d("./polling-jsonp");d=d("./websocket");f.polling=function(d){var f=!1;if(a.location){var f="https:"==location.protocol,k=location.port;k||(k=f?443:80);f=d.hostname!=location.hostname||
k!=d.port}d.xdomain=f;return"open"in new e(d)&&!d.forceJSONP?new c(d):new b(d)};f.websocket=d},{"./polling-jsonp":16,"./polling-xhr":17,"./websocket":19,xmlhttprequest:20}],16:[function(d,g,f){function a(){}function e(e){b.call(this,e);this.query=this.query||{};k||(c.___eio||(c.___eio=[]),k=c.___eio);this.index=k.length;var d=this;k.push(function(a){d.onData(a)});this.query.j=this.index;c.document&&c.addEventListener&&c.addEventListener("beforeunload",function(){d.script&&(d.script.onerror=a)})}var c=
"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},b=d("./polling");d=d("component-inherit");g.exports=e;var h=/\n/g,q=/\\n/g,k;d(e,b);e.prototype.supportsBinary=!1;e.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),this.form=null);b.prototype.doClose.call(this)};e.prototype.doPoll=function(){var a=this,c=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),
this.script=null);c.async=!0;c.src=this.uri();c.onerror=function(c){a.onError("jsonp poll error",c)};var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(c,b);this.script=c;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};e.prototype.doWrite=function(a,c){function b(){e();c()}function e(){if(d.iframe)try{d.form.removeChild(d.iframe)}catch(a){d.onError("jsonp polling iframe removal error",
a)}try{w=document.createElement('<iframe src="javascript:0" name="'+d.iframeId+'">')}catch(c){w=document.createElement("iframe"),w.name=d.iframeId,w.src="javascript:0"}w.id=d.iframeId;d.form.appendChild(w);d.iframe=w}var d=this;if(!this.form){var k=document.createElement("form"),f=document.createElement("textarea"),g=this.iframeId="eio_iframe_"+this.index,w;k.className="socketio";k.style.position="absolute";k.style.top="-1000px";k.style.left="-1000px";k.target=g;k.method="POST";k.setAttribute("accept-charset",
"utf-8");f.name="d";k.appendChild(f);document.body.appendChild(k);this.form=k;this.area=f}this.form.action=this.uri();e();a=a.replace(q,"\\\n");this.area.value=a.replace(h,"\\n");try{this.form.submit()}catch(x){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==d.iframe.readyState&&b()}:this.iframe.onload=b}},{"./polling":18,"component-inherit":21}],17:[function(d,g,f){function a(){}function e(a){k.call(this,a);if(h.location){var c="https:"==location.protocol,b=location.port;
b||(b=c?443:80);this.xd=a.hostname!=h.location.hostname||b!=a.port}}function c(a){this.method=a.method||"GET";this.uri=a.uri;this.xd=!!a.xd;this.async=!1!==a.async;this.data=void 0!=a.data?a.data:null;this.agent=a.agent;this.create(a.isBinary,a.supportsBinary)}function b(){for(var a in c.requests)c.requests.hasOwnProperty(a)&&c.requests[a].abort()}var h="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},q=d("xmlhttprequest"),k=d("./polling");f=d("component-emitter");var p=d("component-inherit"),
m=d("debug")("engine.io-client:polling-xhr");g.exports=e;g.exports.Request=c;p(e,k);e.prototype.supportsBinary=!0;e.prototype.request=function(a){a=a||{};a.uri=this.uri();a.xd=this.xd;a.agent=this.agent||!1;a.supportsBinary=this.supportsBinary;return new c(a)};e.prototype.doWrite=function(a,c){var b=this.request({method:"POST",data:a,isBinary:"string"!==typeof a&&void 0!==a}),e=this;b.on("success",c);b.on("error",function(a){e.onError("xhr post error",a)});this.sendXhr=b};e.prototype.doPoll=function(){m("xhr poll");
var a=this.request(),c=this;a.on("data",function(a){c.onData(a)});a.on("error",function(a){c.onError("xhr poll error",a)});this.pollXhr=a};f(c.prototype);c.prototype.create=function(a,b){var e=this.xhr=new q({agent:this.agent,xdomain:this.xd}),d=this;try{m("xhr open %s: %s",this.method,this.uri);e.open(this.method,this.uri,this.async);b&&(e.responseType="arraybuffer");if("POST"==this.method)try{a?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(k){}"withCredentials"in
e&&(e.withCredentials=!0);e.onreadystatechange=function(){var a;try{if(4!=e.readyState)return;200==e.status||1223==e.status?a="application/octet-stream"===e.getResponseHeader("Content-Type")?e.response:b?"ok":e.responseText:setTimeout(function(){d.onError(e.status)},0)}catch(c){d.onError(c)}if(null!=a)d.onData(a)};m("xhr data %s",this.data);e.send(this.data)}catch(f){setTimeout(function(){d.onError(f)},0);return}h.document&&(this.index=c.requestsCount++,c.requests[this.index]=this)};c.prototype.onSuccess=
function(){this.emit("success");this.cleanup()};c.prototype.onData=function(a){this.emit("data",a);this.onSuccess()};c.prototype.onError=function(a){this.emit("error",a);this.cleanup()};c.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.xhr.onreadystatechange=a;try{this.xhr.abort()}catch(b){}h.document&&delete c.requests[this.index];this.xhr=null}};c.prototype.abort=function(){this.cleanup()};h.document&&(c.requestsCount=0,c.requests={},h.attachEvent?h.attachEvent("onunload",
b):h.addEventListener&&h.addEventListener("beforeunload",b))},{"./polling":18,"component-emitter":8,"component-inherit":21,debug:9,xmlhttprequest:20}],18:[function(d,g,f){function a(a){var c=a&&a.forceBase64;if(!q||c)this.supportsBinary=!1;e.call(this,a)}var e=d("../transport"),c=d("parseqs"),b=d("engine.io-parser");f=d("component-inherit");var h=d("debug")("engine.io-client:polling");g.exports=a;var q=function(){return null!=(new (d("xmlhttprequest"))({agent:this.agent,xdomain:!1})).responseType}();
f(a,e);a.prototype.name="polling";a.prototype.doOpen=function(){this.poll()};a.prototype.pause=function(a){function c(){h("paused");b.readyState="paused";a()}var b=this;this.readyState="pausing";if(this.polling||!this.writable){var e=0;this.polling&&(h("we are currently polling - waiting to pause"),e++,this.once("pollComplete",function(){h("pre-pause polling complete");--e||c()}));this.writable||(h("we are currently writing - waiting to pause"),e++,this.once("drain",function(){h("pre-pause writing complete");
--e||c()}))}else c()};a.prototype.poll=function(){h("polling");this.polling=!0;this.doPoll();this.emit("poll")};a.prototype.onData=function(a){var c=this;h("polling got data %s",a);b.decodePayload(a,this.socket.binaryType,function(a,b,e){if("opening"==c.readyState)c.onOpen();if("close"==a.type)return c.onClose(),!1;c.onPacket(a)});"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():h('ignoring poll - transport state "%s"',this.readyState))};a.prototype.doClose=
function(){function a(){h("writing close packet");c.write([{type:"close"}])}var c=this;"open"==this.readyState?(h("transport open - closing"),a()):(h("transport not open - deferring close"),this.once("open",a))};a.prototype.write=function(a){var c=this;this.writable=!1;var e=function(){c.writable=!0;c.emit("drain")},c=this;b.encodePayload(a,this.supportsBinary,function(a){c.doWrite(a,e)})};a.prototype.uri=function(){var a=this.query||{},b=this.secure?"https":"http",d="";!1!==this.timestampRequests&&
(a[this.timestampParam]=+new Date+"-"+e.timestamps++);this.supportsBinary||a.sid||(a.b64=1);a=c.encode(a);this.port&&("https"==b&&443!=this.port||"http"==b&&80!=this.port)&&(d=":"+this.port);a.length&&(a="?"+a);return b+"://"+this.hostname+d+this.path+a}},{"../transport":14,"component-inherit":21,debug:9,"engine.io-parser":22,parseqs:30,xmlhttprequest:20}],19:[function(d,g,f){function a(a){a&&a.forceBase64&&(this.supportsBinary=!1);e.call(this,a)}var e=d("../transport"),c=d("engine.io-parser"),b=
d("parseqs");f=d("component-inherit");var h=d("debug")("engine.io-client:websocket"),q=d("ws");g.exports=a;f(a,e);a.prototype.name="websocket";a.prototype.supportsBinary=!0;a.prototype.doOpen=function(){if(this.check()){var a=this.uri();this.ws=new q(a,void 0,{agent:this.agent});void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.binaryType="arraybuffer";this.addEventListeners()}};a.prototype.addEventListeners=function(){var a=this;this.ws.onopen=function(){a.onOpen()};this.ws.onclose=function(){a.onClose()};
this.ws.onmessage=function(c){a.onData(c.data)};this.ws.onerror=function(c){a.onError("websocket error",c)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(a.prototype.onData=function(a){var c=this;setTimeout(function(){e.prototype.onData.call(c,a)},0)});a.prototype.write=function(a){var b=this;this.writable=!1;for(var e=0,d=a.length;e<d;e++)c.encodePacket(a[e],this.supportsBinary,function(a){try{b.ws.send(a)}catch(c){h("websocket closed before onclose event")}});setTimeout(function(){b.writable=
!0;b.emit("drain")},0)};a.prototype.onClose=function(){e.prototype.onClose.call(this)};a.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};a.prototype.uri=function(){var a=this.query||{},c=this.secure?"wss":"ws",e="";this.port&&("wss"==c&&443!=this.port||"ws"==c&&80!=this.port)&&(e=":"+this.port);this.timestampRequests&&(a[this.timestampParam]=+new Date);this.supportsBinary||(a.b64=1);a=b.encode(a);a.length&&(a="?"+a);return c+"://"+this.hostname+e+this.path+a};a.prototype.check=
function(){return!!q&&!("__initialize"in q&&this.name===a.prototype.name)}},{"../transport":14,"component-inherit":21,debug:9,"engine.io-parser":22,parseqs:30,ws:31}],20:[function(d,g,f){var a=d("has-cors");g.exports=function(e){e=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||a))return new XMLHttpRequest}catch(c){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}},{"has-cors":34}],21:[function(d,g,f){g.exports=function(a,e){var c=function(){};c.prototype=e.prototype;
a.prototype=new c;a.prototype.constructor=a}},{}],22:[function(d,g,f){function a(a,c,b){if(!c)return f.encodeBase64Packet(a,b);var e=new FileReader;e.onload=function(){a.data=e.result;f.encodePacket(a,c,b)};return e.readAsArrayBuffer(a.data)}function e(a,c,b){var e=Array(a.length);b=q(a.length,b);for(var d=function(a,b,d){c(b,function(c,b){e[a]=b;d(c,e)})},h=0;h<a.length;h++)d(h,a[h],b)}var c="undefined"!==typeof self?self:"undefined"!==typeof window?window:{};g=d("./keys");var b=d("arraybuffer.slice"),
h=d("base64-arraybuffer"),q=d("after"),k=d("utf8"),p=navigator.userAgent.match(/Android/i);f.protocol=2;var m=f.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},l=g(m),r={type:"error",data:"parser error"},s=d("blob");f.encodePacket=function(b,e,d){"function"==typeof e&&(d=e,e=!1);var h=void 0===b.data?void 0:b.data.buffer||b.data;if(c.ArrayBuffer&&h instanceof ArrayBuffer){if(e){h=b.data;e=new Uint8Array(h);h=new Uint8Array(1+h.byteLength);h[0]=m[b.type];for(b=0;b<e.length;b++)h[b+
1]=e[b];b=d(h.buffer)}else b=f.encodeBase64Packet(b,d);return b}if(s&&h instanceof c.Blob)return e?p?b=a(b,e,d):(e=new Uint8Array(1),e[0]=m[b.type],b=new s([e.buffer,b.data]),b=d(b)):b=f.encodeBase64Packet(b,d),b;e=m[b.type];void 0!==b.data&&(e+=k.encode(String(b.data)));return d(""+e)};f.encodeBase64Packet=function(a,b){var e="b"+f.packets[a.type];if(s&&a.data instanceof s){var d=new FileReader;d.onload=function(){var a=d.result.split(",")[1];b(e+a)};return d.readAsDataURL(a.data)}var h;try{h=String.fromCharCode.apply(null,
new Uint8Array(a.data))}catch(k){h=new Uint8Array(a.data);for(var g=Array(h.length),l=0;l<h.length;l++)g[l]=h[l];h=String.fromCharCode.apply(null,g)}e+=c.btoa(h);return b(e)};f.decodePacket=function(a,c){if("string"==typeof a||void 0===a){if("b"==a.charAt(0))return f.decodeBase64Packet(a.substr(1),c);a=k.decode(a);var e=a.charAt(0);return Number(e)==e&&l[e]?1<a.length?{type:l[e],data:a.substring(1)}:{type:l[e]}:r}var e=(new Uint8Array(a))[0],d=b(a,1);s&&"blob"===c&&(d=new s([d]));return{type:l[e],
data:d}};f.decodeBase64Packet=function(a,b){var e=l[a.charAt(0)];if(!c.ArrayBuffer)return{type:e,data:{base64:!0,data:a.substr(1)}};var d=h.decode(a.substr(1));"blob"===b&&s&&(d=new s([d]));return{type:e,data:d}};f.encodePayload=function(a,b,c){"function"==typeof b&&(c=b,b=null);if(b)return s&&!p?f.encodePayloadAsBlob(a,c):f.encodePayloadAsArrayBuffer(a,c);if(!a.length)return c("0:");e(a,function(a,c){f.encodePacket(a,b,function(a){c(null,a.length+":"+a)})},function(a,b){return c(b.join(""))})};f.decodePayload=
function(a,b,c){if("string"!=typeof a)return f.decodePayloadAsBinary(a,b,c);"function"===typeof b&&(c=b,b=null);var e;if(""==a)return c(r,0,1);e="";for(var d,h,k=0,g=a.length;k<g;k++)if(h=a.charAt(k),":"!=h)e+=h;else{if(""==e||e!=(d=Number(e)))return c(r,0,1);h=a.substr(k+1,d);if(e!=h.length)return c(r,0,1);if(h.length){e=f.decodePacket(h,b);if(r.type==e.type&&r.data==e.data)return c(r,0,1);if(!1===c(e,k+d,g))return}k+=d;e=""}if(""!=e)return c(r,0,1)};f.encodePayloadAsArrayBuffer=function(a,b){if(!a.length)return b(new ArrayBuffer(0));
e(a,function(a,b){f.encodePacket(a,!0,function(a){return b(null,a)})},function(a,c){var e=c.reduce(function(a,b){var c;c="string"===typeof b?b.length:b.byteLength;return a+c.toString().length+c+2},0),d=new Uint8Array(e),h=0;c.forEach(function(a){var b="string"===typeof a,c=a;if(b){for(var c=new Uint8Array(a.length),e=0;e<a.length;e++)c[e]=a.charCodeAt(e);c=c.buffer}b?d[h++]=0:d[h++]=1;a=c.byteLength.toString();for(e=0;e<a.length;e++)d[h++]=parseInt(a[e]);d[h++]=255;c=new Uint8Array(c);for(e=0;e<c.length;e++)d[h++]=
c[e]});return b(d.buffer)})};f.encodePayloadAsBlob=function(a,b){e(a,function(a,b){f.encodePacket(a,!0,function(a){var c=new Uint8Array(1);c[0]=1;if("string"===typeof a){for(var e=new Uint8Array(a.length),d=0;d<a.length;d++)e[d]=a.charCodeAt(d);a=e.buffer;c[0]=0}for(var e=(a instanceof ArrayBuffer?a.byteLength:a.size).toString(),h=new Uint8Array(e.length+1),d=0;d<e.length;d++)h[d]=parseInt(e[d]);h[e.length]=255;s&&(a=new s([c.buffer,h.buffer,a]),b(null,a))})},function(a,c){return b(new s(c))})};f.decodePayloadAsBinary=
function(a,c,e){"function"===typeof c&&(e=c,c=null);for(var d=[];0<a.byteLength;){for(var h=new Uint8Array(a),k=0===h[0],g="",l=1;255!=h[l];l++)g+=h[l];a=b(a,2+g.length);g=parseInt(g);h=b(a,0,g);if(k)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(q){for(k=new Uint8Array(h),h="",l=0;l<k.length;l++)h+=String.fromCharCode(k[l])}d.push(h);a=b(a,g)}var r=d.length;d.forEach(function(a,b){e(f.decodePacket(a,c),b,r)})}},{"./keys":23,after:24,"arraybuffer.slice":25,"base64-arraybuffer":26,blob:27,
utf8:28}],23:[function(d,g,f){g.exports=Object.keys||function(a){var e=[],c=Object.prototype.hasOwnProperty,b;for(b in a)c.call(a,b)&&e.push(b);return e}},{}],24:[function(d,g,f){function a(){}g.exports=function(e,c,b){function d(a,e){if(0>=d.count)throw Error("after called too many times");--d.count;a?(f=!0,c(a),c=b):0!==d.count||f||c(null,e)}var f=!1;b=b||a;d.count=e;return 0===e?c():d}},{}],25:[function(d,g,f){g.exports=function(a,e,c){var b=a.byteLength;e=e||0;c=c||b;if(a.slice)return a.slice(e,
c);0>e&&(e+=b);0>c&&(c+=b);c>b&&(c=b);if(e>=b||e>=c||0===b)return new ArrayBuffer(0);a=new Uint8Array(a);for(var b=new Uint8Array(c-e),d=0;e<c;e++,d++)b[d]=a[e];return b.buffer}},{}],26:[function(d,g,f){(function(a){f.encode=function(e){e=new Uint8Array(e);var c,b=e.length,d="";for(c=0;c<b;c+=3)d+=a[e[c]>>2],d+=a[(e[c]&3)<<4|e[c+1]>>4],d+=a[(e[c+1]&15)<<2|e[c+2]>>6],d+=a[e[c+2]&63];2===b%3?d=d.substring(0,d.length-1)+"=":1===b%3&&(d=d.substring(0,d.length-2)+"==");return d};f.decode=function(e){var c=
.75*e.length,b=e.length,d=0,f,g,p,m;"="===e[e.length-1]&&(c--,"="===e[e.length-2]&&c--);for(var l=new ArrayBuffer(c),r=new Uint8Array(l),c=0;c<b;c+=4)f=a.indexOf(e[c]),g=a.indexOf(e[c+1]),p=a.indexOf(e[c+2]),m=a.indexOf(e[c+3]),r[d++]=f<<2|g>>4,r[d++]=(g&15)<<4|p>>2,r[d++]=(p&3)<<6|m&63;return l}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],27:[function(d,g,f){function a(a,c){c=c||{};for(var b=new e,d=0;d<a.length;d++)b.append(a[d]);return c.type?b.getBlob(c.type):b.getBlob()}
d="undefined"!==typeof self?self:"undefined"!==typeof window?window:{};var e=d.BlobBuilder||d.WebKitBlobBuilder||d.MSBlobBuilder||d.MozBlobBuilder,c;try{c=2==(new Blob(["hi"])).size}catch(b){c=!1}f=e&&e.prototype.append&&e.prototype.getBlob;c=c?d.Blob:f?a:void 0;g.exports=c},{}],28:[function(d,g,f){var a="undefined"!==typeof self?self:"undefined"!==typeof window?window:{};(function(e){function c(a){for(var c=[],b=0,e=a.length,d,h;b<e;)d=a.charCodeAt(b++),55296<=d&&56319>=d&&b<e?(h=a.charCodeAt(b++),
56320==(h&64512)?c.push(((d&1023)<<10)+(h&1023)+65536):(c.push(d),b--)):c.push(d);return c}function b(){if(s>=r)throw Error("Invalid byte index");var a=l[s]&255;s++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");}function d(){var a,c,e,h;if(s>r)throw Error("Invalid byte index");if(s==r)return!1;a=l[s]&255;s++;if(0==(a&128))return a;if(192==(a&224)){c=b();a=(a&31)<<6|c;if(128<=a)return a;throw Error("Invalid continuation byte");}if(224==(a&240)){c=b();e=b();a=(a&15)<<12|c<<6|
e;if(2048<=a)return a;throw Error("Invalid continuation byte");}if(240==(a&248)&&(c=b(),e=b(),h=b(),a=(a&15)<<18|c<<12|e<<6|h,65536<=a&&1114111>=a))return a;throw Error("Invalid UTF-8 detected");}var q="object"==typeof f&&f,k="object"==typeof g&&g&&g.exports==q&&g,p="object"==typeof a&&a;if(p.global===p||p.window===p)e=p;var m=String.fromCharCode,l,r,s,p={version:"2.0.0",encode:function(a){a=c(a);for(var b=a.length,e=-1,d,h="";++e<b;){d=a[e];if(0==(d&4294967168))d=m(d);else{var f="";0==(d&4294965248)?
f=m(d>>6&31|192):0==(d&4294901760)?(f=m(d>>12&15|224),f+=m(d>>6&63|128)):0==(d&4292870144)&&(f=m(d>>18&7|240),f+=m(d>>12&63|128),f+=m(d>>6&63|128));d=f+=m(d&63|128)}h+=d}return h},decode:function(a){l=c(a);r=l.length;s=0;a=[];for(var b;!1!==(b=d());)a.push(b);b=a.length;for(var e=-1,f,g="";++e<b;)f=a[e],65535<f&&(f-=65536,g+=m(f>>>10&1023|55296),f=56320|f&1023),g+=m(f);return g}};if(q&&!q.nodeType)if(k)k.exports=p;else{e={}.hasOwnProperty;for(var v in p)e.call(p,v)&&(q[v]=p[v])}else e.utf8=p})(this)},
{}],29:[function(d,g,f){var a="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},e=/^[\],:{}\s]*$/,c=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,b=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,h=/(?:^|:|,)(?:\s*\[)+/g,q=/^\s+/,k=/\s+$/;g.exports=function(d){if("string"!=typeof d||!d)return null;d=d.replace(q,"").replace(k,"");if(a.JSON&&JSON.parse)return JSON.parse(d);if(e.test(d.replace(c,"@").replace(b,"]").replace(h,"")))return(new Function("return "+d))()}},{}],
30:[function(d,g,f){f.encode=function(a){var e="",c;for(c in a)a.hasOwnProperty(c)&&(e.length&&(e+="&"),e+=encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return e};f.decode=function(a){var e={};a=a.split("&");for(var c=0,b=a.length;c<b;c++){var d=a[c].split("=");e[decodeURIComponent(d[0])]=decodeURIComponent(d[1])}return e}},{}],31:[function(d,g,f){function a(a,b,d){return b?new e(a,b):new e(a)}d=function(){return this}();var e=d.WebSocket||d.MozWebSocket;g.exports=e?a:null;e&&(a.prototype=e.prototype)},
{}],32:[function(d,g,f){var a="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},e=d("isarray");g.exports=function(c){function b(c){if(!c)return!1;if(a.Buffer&&Buffer.isBuffer(c)||a.ArrayBuffer&&c instanceof ArrayBuffer||a.Blob&&c instanceof Blob||a.File&&c instanceof File)return!0;if(e(c))for(var d=0;d<c.length;d++){if(b(c[d]))return!0}else if(c&&"object"==typeof c)for(d in c.toJSON&&(c=c.toJSON()),c)if(b(c[d]))return!0;return!1}return b(c)}},{isarray:33}],33:[function(d,g,f){g.exports=
Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)}},{}],34:[function(d,g,f){d=d("global");try{g.exports="XMLHttpRequest"in d&&"withCredentials"in new d.XMLHttpRequest}catch(a){g.exports=!1}},{global:35}],35:[function(d,g,f){g.exports=function(){return this}()},{}],36:[function(d,g,f){var a=[].indexOf;g.exports=function(e,c){if(a)return e.indexOf(c);for(var b=0;b<e.length;++b)if(e[b]===c)return b;return-1}},{}],37:[function(d,g,f){var a=Object.prototype.hasOwnProperty;
f.keys=Object.keys||function(e){var c=[],b;for(b in e)a.call(e,b)&&c.push(b);return c};f.values=function(e){var c=[],b;for(b in e)a.call(e,b)&&c.push(e[b]);return c};f.merge=function(e,c){for(var b in c)a.call(c,b)&&(e[b]=c[b]);return e};f.length=function(a){return f.keys(a).length};f.isEmpty=function(a){return 0==f.length(a)}},{}],38:[function(d,g,f){var a=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
e="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");g.exports=function(c){c=a.exec(c||"");for(var b={},d=14;d--;)b[e[d]]=c[d]||"";return b}},{}],39:[function(d,g,f){function a(a){return e.Buffer&&Buffer.isBuffer(a)||e.ArrayBuffer&&a instanceof ArrayBuffer}var e="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},c=d("isarray");f.deconstructPacket=function(a){function d(a){if(!a)return a;if(e.Buffer&&Buffer.isBuffer(a)||
e.ArrayBuffer&&a instanceof ArrayBuffer){var b={_placeholder:!0,num:f.length};f.push(a);return b}if(c(a)){for(var b=Array(a.length),g=0;g<a.length;g++)b[g]=d(a[g]);return b}if("object"==typeof a&&!(a instanceof Date)){b={};for(g in a)b[g]=d(a[g]);return b}return a}var f=[];a.data=d(a.data);a.attachments=f.length;return{packet:a,buffers:f}};f.reconstructPacket=function(a,e){function d(a){if(a&&a._placeholder)return e[a.num];if(c(a))for(var b=0;b<a.length;b++)a[b]=d(a[b]);else if(a&&"object"==typeof a)for(b in a)a[b]=
d(a[b]);return a}a.data=d(a.data);a.attachments=void 0;return a};f.removeBlobs=function(b,d){function f(b,l,r){if(!b)return b;if(e.Blob&&b instanceof Blob||e.File&&b instanceof File){g++;var s=new FileReader;s.onload=function(){r?r[l]=this.result:p=this.result;--g||d(p)};s.readAsArrayBuffer(b)}if(c(b))for(s=0;s<b.length;s++)f(b[s],s,b);else if(b&&"object"==typeof b&&!a(b))for(var v in b)f(b[v],v,b)}var g=0,p=b;f(p);g||d(p)}},{isarray:41}],40:[function(d,g,f){function a(){}function e(a){var b,c=!1;
b=""+a.type;if(f.BINARY_EVENT==a.type||f.BINARY_ACK==a.type)b+=a.attachments,b+="-";a.nsp&&"/"!=a.nsp&&(c=!0,b+=a.nsp);null!=a.id&&(c&&(b+=",",c=!1),b+=a.id);null!=a.data&&(c&&(b+=","),b+=p.stringify(a.data));k("encoded %j as %s",a,b);return b}function c(a,b){m.removeBlobs(a,function(a){var c=m.deconstructPacket(a);a=e(c.packet);c=c.buffers;c.unshift(a);b(c)})}function b(){this.reconstructor=null}function h(a){this.reconPack=a;this.buffers=[]}var q="undefined"!==typeof self?self:"undefined"!==typeof window?
window:{},k=d("debug")("socket.io-parser"),p=d("json3");d("isarray");g=d("emitter");var m=d("./binary");f.protocol=3;f.types="CONNECT DISCONNECT EVENT BINARY_EVENT ACK BINARY_ACK ERROR".split(" ");f.CONNECT=0;f.DISCONNECT=1;f.EVENT=2;f.ACK=3;f.ERROR=4;f.BINARY_EVENT=5;f.BINARY_ACK=6;f.Encoder=a;a.prototype.encode=function(a,b){k("encoding packet %j",a);if(f.BINARY_EVENT==a.type||f.BINARY_ACK==a.type)c(a,b);else{var d=e(a);b([d])}};f.Decoder=b;g(b.prototype);b.prototype.add=function(a){if("string"==
typeof a){a:{var b={},c=0;b.type=Number(a.charAt(0));if(null==f.types[b.type])a={type:f.ERROR,data:"parser error"};else{if(f.BINARY_EVENT==b.type||f.BINARY_ACK==b.type){for(b.attachments="";"-"!=a.charAt(++c);)b.attachments+=a.charAt(c);b.attachments=Number(b.attachments)}if("/"==a.charAt(c+1))for(b.nsp="";++c;){var d=a.charAt(c);if(","==d)break;b.nsp+=d;if(c+1==a.length)break}else b.nsp="/";d=a.charAt(c+1);if(""!=d&&Number(d)==d){for(b.id="";++c;){d=a.charAt(c);if(null==d||Number(d)!=d){--c;break}b.id+=
a.charAt(c);if(c+1==a.length)break}b.id=Number(b.id)}if(a.charAt(++c))try{b.data=p.parse(a.substr(c))}catch(e){a={type:f.ERROR,data:"parser error"};break a}k("decoded %s as %j",a,b);a=b}}f.BINARY_EVENT==a.type||f.BINARY_ACK==a.type?(this.reconstructor=new h(a),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",a)):this.emit("decoded",a)}else if(q.Buffer&&Buffer.isBuffer(a)||q.ArrayBuffer&&a instanceof ArrayBuffer||a.base64)if(this.reconstructor){if(a=this.reconstructor.takeBinaryData(a))this.reconstructor=
null,this.emit("decoded",a)}else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+a);};b.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};h.prototype.takeBinaryData=function(a){this.buffers.push(a);return this.buffers.length==this.reconPack.attachments?(a=m.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),a):null};h.prototype.finishedReconstruction=function(){this.reconPack=null;
this.buffers=[]}},{"./binary":39,debug:9,emitter:10,isarray:41,json3:42}],41:[function(d,g,f){g.exports=d(33)},{}],42:[function(d,g,f){(function(a){function d(a){if(d[a]!==g)return d[a];var b;if("bug-string-char-index"==a)b="a"!="a"[0];else if("json"==a)b=d("json-stringify")&&d("json-parse");else{var f;if("json-stringify"==a){b=p.stringify;var h="function"==typeof b&&m;if(h){(f=function(){return 1}).toJSON=f;try{h="0"===b(0)&&"0"===b(new Number)&&'""'==b(new String)&&b(c)===g&&b(g)===g&&b()===g&&
"1"===b(f)&&"[1]"==b([f])&&"[null]"==b([g])&&"null"==b(null)&&"[null,null,null]"==b([g,c,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==b({a:[f,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===b(null,f)&&"[\n 1,\n 2\n]"==b([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==b(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==b(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==b(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==b(new Date(-1))}catch(k){h=!1}}b=h}if("json-parse"==a){b=p.parse;
if("function"==typeof b)try{if(0===b("0")&&!b(!1)){f=b('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var n=5==f.a.length&&1===f.a[0];if(n){try{n=!b('"\t"')}catch(A){}if(n)try{n=1!==b("01")}catch(l){}if(n)try{n=1!==b("1.")}catch(L){}}}}catch(s){n=!1}b=n}}return d[a]=!!b}var c={}.toString,b,h,g,k="object"==typeof JSON&&JSON,p="object"==typeof f&&f&&!f.nodeType&&f;p&&k?(p.stringify=k.stringify,p.parse=k.parse):p=a.JSON=k||{};var m=new Date(-0xc782b5b800cec);try{m=-109252==m.getUTCFullYear()&&
0===m.getUTCMonth()&&1===m.getUTCDate()&&10==m.getUTCHours()&&37==m.getUTCMinutes()&&6==m.getUTCSeconds()&&708==m.getUTCMilliseconds()}catch(l){}if(!d("json")){var r=d("bug-string-char-index");if(!m)var s=Math.floor,v=[0,31,59,90,120,151,181,212,243,273,304,334],C=function(a,b){return v[b]+365*(a-1970)+s((a-1969+(b=+(1<b)))/4)-s((a-1901+b)/100)+s((a-1601+b)/400)};(b={}.hasOwnProperty)||(b=function(a){var d={},e;(d.__proto__=null,d.__proto__={toString:1},d).toString!=c?b=function(a){var b=this.__proto__;
a=a in(this.__proto__=null,this);this.__proto__=b;return a}:(e=d.constructor,b=function(a){var b=(this.constructor||e).prototype;return a in this&&!(a in b&&this[a]===b[a])});d=null;return b.call(this,a)});var J={"boolean":1,number:1,string:1,undefined:1};h=function(a,d){var e=0,f,g,k;(f=function(){this.valueOf=0}).prototype.valueOf=0;g=new f;for(k in g)b.call(g,k)&&e++;f=g=null;e?h=2==e?function(a,d){var e={},f="[object Function]"==c.call(a),g;for(g in a)f&&"prototype"==g||b.call(e,g)||!(e[g]=1)||
!b.call(a,g)||d(g)}:function(a,d){var e="[object Function]"==c.call(a),f,g;for(f in a)e&&"prototype"==f||!b.call(a,f)||(g="constructor"===f)||d(f);(g||b.call(a,f="constructor"))&&d(f)}:(g="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),h=function(a,d){var e="[object Function]"==c.call(a),f,h;if(h=!e&&"function"!=typeof a.constructor)h=typeof a.hasOwnProperty,h="object"==h?!!a.hasOwnProperty:!J[h];h=h?a.hasOwnProperty:b;for(f in a)e&&"prototype"==
f||!h.call(a,f)||d(f);for(e=g.length;f=g[--e];h.call(a,f)&&d(f));});return h(a,d)};if(!d("json-stringify")){var w={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},x=function(a,b){return("000000"+(b||0)).slice(-a)},G=function(a){var b='"',c=0,d=a.length,e=10<d&&r,f;for(e&&(f=a.split(""));c<d;c++){var g=a.charCodeAt(c);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=w[g];break;default:if(32>g){b+="\\u00"+x(2,g.toString(16));break}b+=e?f[c]:r?a.charAt(c):a[c]}}return b+
'"'},E=function(a,d,e,f,k,n,A){var l,m,p,r,t,u,v,w,y;try{l=d[a]}catch(z){}if("object"==typeof l&&l)if(m=c.call(l),"[object Date]"!=m||b.call(l,"toJSON"))"function"==typeof l.toJSON&&("[object Number]"!=m&&"[object String]"!=m&&"[object Array]"!=m||b.call(l,"toJSON"))&&(l=l.toJSON(a));else if(l>-1/0&&l<1/0){if(C){r=s(l/864E5);for(m=s(r/365.2425)+1970-1;C(m+1,0)<=r;m++);for(p=s((r-C(m,0))/30.42);C(m,p+1)<=r;p++);r=1+r-C(m,p);t=(l%864E5+864E5)%864E5;u=s(t/36E5)%24;v=s(t/6E4)%60;w=s(t/1E3)%60;t%=1E3}else m=
l.getUTCFullYear(),p=l.getUTCMonth(),r=l.getUTCDate(),u=l.getUTCHours(),v=l.getUTCMinutes(),w=l.getUTCSeconds(),t=l.getUTCMilliseconds();l=(0>=m||1E4<=m?(0>m?"-":"+")+x(6,0>m?-m:m):x(4,m))+"-"+x(2,p+1)+"-"+x(2,r)+"T"+x(2,u)+":"+x(2,v)+":"+x(2,w)+"."+x(3,t)+"Z"}else l=null;e&&(l=e.call(d,a,l));if(null===l)return"null";m=c.call(l);if("[object Boolean]"==m)return""+l;if("[object Number]"==m)return l>-1/0&&l<1/0?""+l:"null";if("[object String]"==m)return G(""+l);if("object"==typeof l){for(a=A.length;a--;)if(A[a]===
l)throw TypeError();A.push(l);y=[];d=n;n+=k;if("[object Array]"==m){p=0;for(a=l.length;p<a;p++)m=E(p,l,e,f,k,n,A),y.push(m===g?"null":m);a=y.length?k?"[\n"+n+y.join(",\n"+n)+"\n"+d+"]":"["+y.join(",")+"]":"[]"}else h(f||l,function(a){var b=E(a,l,e,f,k,n,A);b!==g&&y.push(G(a)+":"+(k?" ":"")+b)}),a=y.length?k?"{\n"+n+y.join(",\n"+n)+"\n"+d+"}":"{"+y.join(",")+"}":"{}";A.pop();return a}};p.stringify=function(a,b,d){var e,f,g,h;if("function"==typeof b||"object"==typeof b&&b)if("[object Function]"==(h=
c.call(b)))f=b;else if("[object Array]"==h){g={};for(var k=0,l=b.length,m;k<l;m=b[k++],(h=c.call(m),"[object String]"==h||"[object Number]"==h)&&(g[m]=1));}if(d)if("[object Number]"==(h=c.call(d))){if(0<(d-=d%1))for(e="",10<d&&(d=10);e.length<d;e+=" ");}else"[object String]"==h&&(e=10>=d.length?d:d.slice(0,10));return E("",(m={},m[""]=a,m),f,g,e,"",[])}}if(!d("json-parse")){var t=String.fromCharCode,K={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},n,D,u=function(){n=D=null;throw SyntaxError();
},z=function(){for(var a=D,b=a.length,c,d,e,f,g;n<b;)switch(g=a.charCodeAt(n),g){case 9:case 10:case 13:case 32:n++;break;case 123:case 125:case 91:case 93:case 58:case 44:return c=r?a.charAt(n):a[n],n++,c;case 34:c="@";for(n++;n<b;)if(g=a.charCodeAt(n),32>g)u();else if(92==g)switch(g=a.charCodeAt(++n),g){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:c+=K[g];n++;break;case 117:d=++n;for(e=n+4;n<e;n++)g=a.charCodeAt(n),48<=g&&57>=g||97<=g&&102>=g||65<=g&&70>=g||u();c+=t("0x"+
a.slice(d,n));break;default:u()}else{if(34==g)break;g=a.charCodeAt(n);for(d=n;32<=g&&92!=g&&34!=g;)g=a.charCodeAt(++n);c+=a.slice(d,n)}if(34==a.charCodeAt(n))return n++,c;u();default:d=n;45==g&&(f=!0,g=a.charCodeAt(++n));if(48<=g&&57>=g){for(48==g&&(g=a.charCodeAt(n+1),48<=g&&57>=g)&&u();n<b&&(g=a.charCodeAt(n),48<=g&&57>=g);n++);if(46==a.charCodeAt(n)){for(e=++n;e<b&&(g=a.charCodeAt(e),48<=g&&57>=g);e++);e==n&&u();n=e}g=a.charCodeAt(n);if(101==g||69==g){g=a.charCodeAt(++n);43!=g&&45!=g||n++;for(e=
n;e<b&&(g=a.charCodeAt(e),48<=g&&57>=g);e++);e==n&&u();n=e}return+a.slice(d,n)}f&&u();if("true"==a.slice(n,n+4))return n+=4,!0;if("false"==a.slice(n,n+5))return n+=5,!1;if("null"==a.slice(n,n+4))return n+=4,null;u()}return"$"},F=function(a){var b,c;"$"==a&&u();if("string"==typeof a){if("@"==(r?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];;c||(c=!0)){a=z();if("]"==a)break;c&&(","==a?(a=z(),"]"==a&&u()):u());","==a&&u();b.push(F(a))}return b}if("{"==a){for(b={};;c||(c=!0)){a=z();if("}"==
a)break;c&&(","==a?(a=z(),"}"==a&&u()):u());","!=a&&"string"==typeof a&&"@"==(r?a.charAt(0):a[0])&&":"==z()||u();b[a.slice(1)]=F(z())}return b}u()}return a},I=function(a,b,c){c=H(a,b,c);c===g?delete a[b]:a[b]=c},H=function(a,b,d){var e=a[b],f;if("object"==typeof e&&e)if("[object Array]"==c.call(e))for(f=e.length;f--;)I(e,f,d);else h(e,function(a){I(e,a,d)});return d.call(a,b,e)};p.parse=function(a,b){var d,e;n=0;D=""+a;d=F(z());"$"!=z()&&u();n=D=null;return b&&"[object Function]"==c.call(b)?H((e=
{},e[""]=d,e),"",b):d}}}})(this)},{}],43:[function(d,g,f){g.exports=function(a,d){for(var c=[],b=(d=d||0)||0;b<a.length;b++)c[b-d]=a[b];return c}},{}]},{},[1])(1)});
